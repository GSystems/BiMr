<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<title>Bird Migration</title>
	<style>
	#map{
		height: 100%;
	}
	html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
    .slider-panel {
        position: absolute;
        top: 93%;
        left: 33%;
        z-index: 5;
        background-color: #fff;
        padding: 5px;
        border: 1px solid #999;
        text-align: center;
        font-family: 'Roboto','sans-serif';
        line-height: 30px;
        padding-left: 10px;
     }
     .slider{
     	width: 600px;
     }
	</style>
</h:head>
<h:body>
	<div id="map"></div>
	<div class="slider-panel" >
		<button onclick="toggleHeatmap()">Toggle Heatmap</button>
		<button onclick="toggleCircleMap()">Toggle Circle Map</button>
		<br></br>
		<input type="range" min="1" max="10" value="1" class="slider" id="myRange"/>
		<br></br>
	</div>
	<div class="action-panel">

	</div>
	<script>

		var map;
		var heatmap;
		function initMap(){

	        map = new google.maps.Map(document.getElementById('map'), {
	            zoom: 6,
	            center: {lat: 37.775, lng: -122.434},
	            mapTypeId: 'terrain'
	          });
    
 			var script = document.createElement('script');

	        script.src = 'https://developers.google.com/maps/documentation/javascript/examples/json/earthquake_GeoJSONP.js';
	        document.getElementsByTagName('head')[0].appendChild(script); 

 	        map.data.setStyle(function(feature) {
	            var magnitude = feature.getProperty('mag'); 
	            magnitude -= 0.2;
	            return {
	              icon: getCircle(magnitude)
	            };
	        }); 
			
		}

		function getPoints() {
	        return [
	          new google.maps.LatLng(37.782551, -122.445368),
	          new google.maps.LatLng(37.782745, -122.444586),
	          new google.maps.LatLng(37.782842, -122.443688),
	          new google.maps.LatLng(37.782919, -122.442815),
	          new google.maps.LatLng(37.782992, -122.442112),
	          new google.maps.LatLng(37.783100, -122.441461),
	          new google.maps.LatLng(37.783206, -122.440829),
	          new google.maps.LatLng(37.783273, -122.440324),
	          new google.maps.LatLng(37.783316, -122.440023),
	          new google.maps.LatLng(37.783357, -122.439794),
	          new google.maps.LatLng(37.783371, -122.439687),
	          new google.maps.LatLng(37.783368, -122.439666)
	       ];
		}

	    function getCircle(magnitude) {
		    return {
	            path: google.maps.SymbolPath.CIRCLE,
	            fillColor: 'red',
	            fillOpacity: .2,
	            scale: Math.pow(2, magnitude),
	            strokeColor: 'white',
	            strokeWeight: .5
	        };
	    }

	   	function eqfeed_callback(results) {
		   	map.data.addGeoJson(results);
	    }

	    function toggleHeatmap() {
		    heatmap.setMap(heatmap.getMap() ? null : map);
	    }
		
		var birds = [
			{
			 coord:{lat: 36.0369429, lng: -115.0544178},
			 name: 'American Tree Sparrow'
			},
	        {
		     coord:{lat: 39.500583,  lng: -119.80673},
			 name: 'American Tree Sparrow'
			},
	        {coord:{lat: 39.4908565, lng: -119.7410685},
		 	 name: 'American Tree Sparrow'},
	        {coord:{lat: 36.3249025, lng: -115.266594},
		  	 name: 'American Tree Sparrow'},
	        {coord:{lat: 36.0877316, lng: -114.9838436},
		 	 name: 'American Tree Sparrow'},
	        {coord:{lat: 39.5383369, lng: -119.8350906},
		 	 name: 'American Tree Sparrow'},
	        {coord:{lat: 36.0749791, lng: -115.0021416},
		 	 name: 'American Tree Sparrow'},
	        {coord:{lat: 39.3871964, lng: -119.8268473},
		 	 name: 'American Tree Sparrow'},
	        {coord:{lat: 36.0749791, lng: -115.0021416},
		 	 name: 'American Tree Sparrow'},
	        {coord:{lat: 36.438797,  lng: -115.359566},
		 	 name: 'American Tree Sparrow'},
	        {coord:{lat: 36.3249025, lng: -115.266594},
		 	 name: 'American Tree Sparrow'},
	        {coord:{lat: 39.5348915, lng: -119.7295699},
		 	 name: 'American Tree Sparrow'},
	        {coord:{lat: 39.5375943, lng: -119.8156735},
		 	 name: 'American Tree Sparrow'},
	        {coord:{lat: 39.5348915, lng: -119.7295699},
		 	 name: 'American Tree Sparrow'},
	        {coord:{lat: 39.5208387, lng: 145.137978},
		 	 name: 'American Tree Sparrow'},
	        {coord:{lat: 37.819616,  lng: -119.831905},
		 	 name: 'American Tree Sparrow'},
	        {coord:{lat: 39.500583,  lng: -119.80673},
		     name: 'American Tree Sparrow'},
	        {coord:{lat: 39.4908565, lng: -119.7410685},
		     name: 'American Tree Sparrow'},
	        {coord:{lat: 36.0749791, lng: -115.0021416},
	         name: 'American Tree Sparrow'},
	        {coord:{lat: 39.5470076, lng: -119.8303968},
             name:'American Tree Sparrow'},
	        {coord:{lat: 36.1006947, lng: -115.022462},
   	         name: 'American Tree Sparrow'},
	        {coord:{lat: 36.0749791, lng: -115.0021416},
		     name: 'American Tree Sparrow'},
	        {coord:{lat: 39.5348915, lng: -119.7295699},
		     name: 'American Tree Sparrow'}
		]
		
	</script>
	<script src="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/markerclusterer.js"></script>
 	<script async="defer" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAf10kOSOGdrAt5B_cOiGEmZG_e_myQTNg&amp;callback=initMap"></script>
	<!-- <script async="defer" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAf10kOSOGdrAt5B_cOiGEmZG_e_myQTNg&amp;libraries=visualization&amo;callback=initMap"></script> -->
</h:body>
</html>